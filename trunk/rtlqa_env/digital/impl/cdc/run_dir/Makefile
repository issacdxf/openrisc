##########################################################################
#
# DUT Sources
#
##########################################################################
DUT=des
SRCLIST=../../../hdl/des/list/des.lst
CTRLFILE=cdc_control.v
DB = 0in_cdc.db
 
##########################################################################
#
# Misc Variables
#
##########################################################################

##########################################################################
#
# Make Targets
#
##########################################################################

all:	cdc\
	env_std	\
	view	\

cdc:
	0in -cmd cdc -d $(DUT) 		\
	-f $(SRCLIST) -ctrl $(CTRLFILE)				\
	-wd ../work	\

view:
	0in_cdc	\
	$(DB)	\

cdcui:
	0in_cdc -p myproj -d $(DUT) 		\
	-f $(SRCLIST) -ctrl $(CTRLFILE)				\

env_std:
	cp *.log ../log
	cp *.rpt ../rpts

clean:
	0in_clean
	rm -rf  0in_seed_control.v 0in_prove.ist 0in_tb_template.v
	rm ../log/*
	rm ../rpts/*
	rm -rf ../work/*
	rm -rf csrc simv* work transcript
	rm -rf *.vcd
	rm -rf	./waves/*.dsn ./waves/*.trn			\
		ncwork/inc* ncwork/.inc* ncverilog.key		\
		./verilog.* .nclog hal.log INCA_libs		\
		./replay* ./nWaveLog ./verdiLog ./vfastLog	\
		*~ *.sv *.rc *.log *.rpt

##########################################################################
#
# Regression
#
##########################################################################

REGRESS_FILE_LIST = \
                    0in_cdc.rpt \
                    0in_cdc_design.rpt


regression: clean cdc
	@rm -f regress_file_list
	@echo "# This file was generated by make" > regress_file_list
	@/bin/ls -1 $(REGRESS_FILE_LIST) >> regress_file_list
	@chmod -w regress_file_list
